<h1 class="title is-spaced" id="tableDescription">Statistiques et cas Coronavirus COVID-19
  <ng-container *ngIf="!selectedZone">
    {{selectedCountry?.translation}}
  </ng-container>

  {{selectedZone?.name}}
</h1>
<p>
  <ng-container *ngIf="mainStats.updated">
    Les données Worldometer ont été mises à jour le
    <strong>{{mainStats?.updated | date: 'd MMMM yyyy à HH:mm':'fr-FR'}}</strong>.<br>
  </ng-container>
  <ng-container *ngIf="lastUpdate">
    Les données hospitalières ont été mises à jour le <strong>{{lastUpdate | date: 'd MMMM yyyy' :'fr-FR'}} à
      19:00</strong> par Santé publique.<br>
  </ng-container>
</p>
<div class="tile is-ancestor">
  <div class="tile is-parent" *ngIf="mainStats.cases !== undefined">
    <article class="tile is-child notification is-warning">
      <p class="title">{{mainStats.cases | number: '' :'fr-FR'}}
        <span class="increase">
          {{mainStats?.todayCases | symbolNumber }}
        </span>
      </p>
      <p class="subtitle">Confirmés
        <span class="note">
          dont <strong>{{mainStats.active | number: '' :'fr-FR'}}</strong> actifs
        </span>
      </p>
      <div class="legend" *ngIf="selectedCountry.country === 'France'">
        Source :  Worldometer avec les données remontées par les centres hospitaliers participants à SI-VIC et signalement liés au COVID-19 dans les ESMS
      </div>
      <div class="legend" *ngIf="selectedCountry.country !== 'France'">
        Source : Worldometer
      </div>
    </article>
  </div>
  <div class="tile is-parent" *ngIf="mainStats.hospital !== undefined">
    <article class="tile is-child notification hospital">
      <p class="title">{{mainStats.hospitalStart | number: '' :'fr-FR'}}
        <span class="increase">
          {{mainStats.todayHospitalStart | symbolNumber }}
        </span>
      </p>
      <p class="subtitle">Hospitalisations
        <span class="note">
          dont <strong>{{mainStats.hospital | number: '' :'fr-FR'}}</strong> ({{mainStats.todayHospital | symbolNumber }}) en cours
        </span>
      </p>
      <p class="legend">
        Source : Données remontées par les centres hospitaliers participants à SI-VIC
      </p>
    </article>
  </div>
  <div class="tile is-parent" *ngIf="mainStats.active !== undefined && selectedCountry.country !== 'France'">
    <article class="tile is-child notification hospital">
      <p class="title">{{mainStats.active | number: '' :'fr-FR'}}
      </p>
      <p class="subtitle">Actifs</p>
      <p class="legend">
        Source : Worldometer
      </p>
    </article>
  </div>
  <div class="tile is-parent" *ngIf="mainStats.critical !== undefined ">
    <article class="tile is-child notification reanimation">
      <p class="title">{{mainStats.critical | number: '' :'fr-FR'}}
      </p>
      <p class="subtitle">Critiques</p>
      <p class="legend">
        Source : Worldometer
      </p>
    </article>
  </div>
  <div class="tile is-parent" *ngIf="mainStats.reanimation !== undefined">
    <article class="tile is-child notification reanimation">
      <p class="title">{{mainStats.reanimationStart | number: '' :'fr-FR'}}
        <span class="increase">
          {{mainStats.todayReanimationStart | symbolNumber }}
        </span>
      </p>
      <p class="subtitle">Réanimations
        <span class="note">
          dont <strong>{{mainStats.reanimation | number: '' :'fr-FR'}}</strong> ({{mainStats.todayReanimation | symbolNumber }}) en cours
        </span>
      </p>
      <p class="legend">
        Source : Données remontées par les centres hospitaliers participants à SI-VIC
      </p>
    </article>
  </div>
  <div class="tile is-parent" *ngIf="mainStats.deaths !== undefined">
    <article class="tile is-child notification is-danger ">
      <ng-container *ngIf="mainStats.deathsJHU">
        <p class="title">
          {{mainStats.deathsJHU | number: '' :'fr-FR'}}
          <span class="increase">
            {{mainStats.todayDeathsJHU | symbolNumber }}
          </span>
        </p>
        <p class="subtitle">Décès
          <span class="note">
            dont <strong>{{mainStats.deaths | number: '' :'fr-FR'}}</strong>  ({{mainStats.todayDeaths | symbolNumber }}) en milieu
            hospitalier
          </span>
        </p>
        <p class="legend">
          Source : Worldometer avec les données remontées par les centres hospitaliers participants à SI-VIC et signalement
          liés au COVID-19 dans les ESMS
        </p>
      </ng-container>
      <ng-container *ngIf="mainStats.deaths !== undefined && !mainStats.deathsJHU">
        <p class="title">
          {{mainStats.deaths | number: '' :'fr-FR'}}
          <span class="increase">
            {{mainStats.todayDeaths | symbolNumber }}
          </span>
        </p>
        <p class="subtitle">Décès</p>
        <p class="legend" *ngIf="selectedZone">
          Source : Données remontées par les centres hospitaliers participants à SI-VIC
        </p>
        <p class="legend" *ngIf="selectedCountry?.country !== 'France'">
          Source : Worldometer
        </p>
      </ng-container>
    </article>
  </div>
  <div class="tile is-parent" *ngIf="mainStats.recovered !== undefined">
    <article class="tile is-child notification is-success active-map">
      <p class="title">
        {{mainStats.recovered | number: '' :'fr-FR'}}
        <span class="increase">
          {{mainStats.todayRecovered | symbolNumber }}
        </span>
      </p>
      <p class="subtitle">Guéris</p>
      <p class="legend" *ngIf="selectedCountry?.country === 'France'">
        Source : Données remontées par les centres hospitaliers participants à SI-VIC
      </p>
      <p class="legend" *ngIf="selectedCountry?.country !== 'France'">
        Source : Worldometer
      </p>
    </article>
  </div>
</div>
