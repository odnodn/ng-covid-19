<!--
  <ng-container *ngIf="!selectedZone">
    <div class="stats-france tile is-ancestor is-tablet">
      <div class="tile is-vertical">
        <div class="tile">
          <div class="tile is-parent">
            <div class="tile is-child box">
              <p class="title">Statistiques globales</p>
              <p class="subtitle">
                Les données globales ont été mises à jour le
                <strong>{{
                  mainStats?.total.global.lastUpdate
                    | date: "d MMMM yyyy":"fr-FR"
                }}</strong>.
              </p>
            </div>
          </div>
        </div>
        <div class="tile">
          <div class="tile is-parent">
            <div class="tile is-child box notification is-warning">
              <p class="title tooltip-item"
                matTooltip="Nombre cumulé de cas confirmés de COVID-19 par Santé publique France depuis le début de l'épidémie">
                {{ mainStats?.total.global.cases | number: "":"fr-FR" }}
                <span class="increase">
                  ({{
                    mainStats?.total.global.todayCases
                      | symbolNumber: "mainStats"
                  }}
                  en 24h)
                </span>
              </p>
              <p class="subtitle">
                Cas confirmés au total depuis le début de l'épidémie
              </p>
            </div>
          </div>
        </div>
        <div class="tile">
          <div class="tile is-parent">
            <div class="tile is-child box notification is-danger">
              <p class="title tooltip-item"
                matTooltip="Nombre cumulé de personnes décédées (Décès en milieu hospitalier + Décès en ESMS) depuis le début de l'épidémie">
                {{ mainStats.total.global.deaths | number: "":"fr-FR" }}
                <span class="increase">
                  ({{
                    mainStats?.total.global.todayDeaths
                      | symbolNumber: "mainStats"
                  }}
                  en 24h)
                </span>
              </p>
              <p class="subtitle">
                Décès au total depuis le début de l'épidémie soit un taux de
                décès* de
                <strong class="number-rate">{{ mainStats.total.global.deathRate.toFixed(1) }} %</strong>
                <span class="calcul">
                  * Taux de décès = nombre de décès sur le nombre de cas
                  confirmés.
                </span>
              </p>
            </div>
          </div>
        </div>
      </div>
      <div class="tile is-vertical">
        <div class="tile first is-parent">
          <div class="tile is-child box">
            <p class="title">Statistiques ESMS</p>
            <p class="subtitle">
              Les données des ESMS ont été mises à jour le
              <strong>{{
                mainStats?.total.esms.lastUpdate | date: "d MMMM yyyy":"fr-FR"
              }}</strong>.
            </p>
          </div>
        </div>
        <div class="tile is-parent">
          <div class="tile is-child box notification is-warning">
            <p class="title tooltip-item"
              matTooltip="Nombre cumulé de cas confirmés de COVID-19 en ESMS depuis le début de l'épidémie">
              {{ mainStats.total.esms.casesEsms | number: "":"fr-FR" }}
              <span class="increase">
                <ng-container *ngIf="mainStats?.total.esms.todayCasesEsms !== -1">
                  ({{
                    mainStats?.total.esms.todayCasesEsms
                      | symbolNumber: "mainStats"
                  }}
                  en 24h)
                </ng-container>

              </span>
            </p>
            <p class="subtitle">
              Cas confirmés en ESMS depuis le début de l'épidémie
            </p>
          </div>
        </div>
        <div class="tile is-parent">
          <div class="tile is-child box notification is-danger">
            <p class="title tooltip-item"
              matTooltip="Nombre cumulé de décès en ESMS pour cause de COVID-19 depuis le début de l'épidémie">
              {{ mainStats.total.esms.deathsEsms | number: "":"fr-FR" }}
              <span class="increase">
                ({{
                    mainStats?.total.esms.todayDeathsEsms
                      | symbolNumber: "mainStats"
                  }}
                en 24h)
              </span>
            </p>
            <p class="subtitle">
              Décès en ESMS depuis le début de l'épidémie
            </p>
          </div>
        </div>
      </div>
      <div class="tile is-vertical is-7">
        <div class="tile">
          <div class="tile first is-parent">
            <div class="tile is-child box">
              <p class="title">Statistiques hospitalières</p>
              <p class="subtitle">
                Les données remontées par les centres hospitaliers participants
                à SI-VIC et Santé Publique France ont été mises à jour le
                <strong>{{
                  mainStats?.total.hospital.lastUpdate
                    | date: "d MMMM yyyy":"fr-FR"
                }}</strong>.
              </p>
            </div>
          </div>
        </div>
        <div class="tile">
          <div class="tile is-parent">
            <div class="tile is-child box notification hospital">
              <p class="title tooltip-item" matTooltip="Nombre de patients actuellement hospitalisés pour COVID-19">
                {{ mainStats?.total.hospital.hospital | number: "":"fr-FR" }}
                <span class="increase">
                  ({{
                    mainStats?.total.hospital.todayHospital
                      | symbolNumber: "mainStats"
                  }}
                  en 24h)
                </span>
              </p>
              <p class="subtitle">
                Hospitalisations en cours
              </p>
            </div>
          </div>
          <div class="tile is-parent">
            <div class="tile is-child box notification hospital">
              <p class="title tooltip-item"
                matTooltip="Nombre cumulé de patients hospitalisés pour COVID-19 depuis le début de l'épidémie">
                {{
                  mainStats.total.hospital.hospitalStart | number: "":"fr-FR"
                }}
                <span class="increase">
                  ({{
                    mainStats?.total.hospital.todayHospitalStart
                      | symbolNumber: "mainStats"
                  }}
                  en 24h)
                </span>
              </p>
              <p class="subtitle">
                Hospitalisations au total depuis le début de l'épidémie
              </p>
            </div>
          </div>
        </div>
        <div class="tile">
          <div class="tile is-parent">
            <div class="tile is-child box notification reanimation">
              <p class="title tooltip-item"
                matTooltip="Nombre de patients actuellement hospitalisés en réanimation pour COVID-19">
                {{ mainStats?.total.hospital.reanimation | number: "":"fr-FR" }}
                <span class="increase">
                  ({{
                    mainStats?.total.hospital.todayReanimation
                      | symbolNumber: "mainStats"
                  }}
                  en 24h)
                </span>
              </p>
              <p class="subtitle">
                Réanimations en cours
              </p>
            </div>
          </div>
          <div class="tile is-parent">
            <div class="tile is-child box notification reanimation">
              <p class="title tooltip-item"
                matTooltip="Nombre cumulé de patients admis en réanimation pour COVID-19 depuis le début de l'épidémie">
                {{
                  mainStats.total.hospital.reanimationStart | number: "":"fr-FR"
                }}
                <span class="increase">
                  ({{
                    mainStats?.total.hospital.todayReanimationStart
                      | symbolNumber: "mainStats"
                  }}
                  en 24h)
                </span>
              </p>
              <p class="subtitle">
                Réanimations au total depuis le début de l'épidémie
              </p>
            </div>
          </div>
          <div class="tile is-parent">
            <div class="tile is-child box notification is-success">
              <p class="title tooltip-item"
                matTooltip="Nombre cumulé de patients guéris suite à une hospitalisation pour COVID-19 depuis le début de l'épidémie">
                {{ mainStats.total.hospital.recovered | number: "":"fr-FR" }}
                <span class="increase">
                  ({{
                    mainStats?.total.hospital.todayRecovered
                      | symbolNumber: "mainStats"
                  }}
                  en 24h)
                </span>
              </p>
              <p class="subtitle">
                Guéris après hospitalisation depuis le début de l'épidémie soit
                un taux de guérison* de
                <strong class="number-rate">{{
                    mainStats.total.hospital.recoveredRate.toFixed(1)
                  }}
                  %</strong>
                <span class="calcul">
                  *Taux de guérison = nombre de guéris suite à une
                  hospitalisation sur le nombre total d'hospitalisations.
                </span>
              </p>
            </div>
          </div>
          <div class="tile is-parent">
            <div class="tile is-child box notification is-danger">
              <p class="title tooltip-item"
                matTooltip="Nombre cumulé de patients décédés suite à une hospitalisation pour COVID-19 depuis le début de l'épidémie">
                {{
                  mainStats.total.hospital.deathsHospital | number: "":"fr-FR"
                }}
                <span class="increase">
                  ({{
                    mainStats?.total.hospital.todayDeathsHospital
                      | symbolNumber: "mainStats"
                  }}
                  en 24h)
                </span>
              </p>
              <p class="subtitle">
                Décès après hospitalisation depuis le début de l'épidémie soit
                un taux de décès* de
                <strong class="number-rate">{{ mainStats.total.hospital.deathRate.toFixed(1) }} %</strong>
                <span class="calcul">
                  * Taux de décès = nombre de décès suite à une hospitalisation
                  sur le nombre total d'hospitalisations.
                </span>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="stats-france is-desktop">
      <div class="tile is-ancestor">
        <div class="tile">
          <div class="tile is-parent">
            <div class="tile is-child box">
              <p class="title">Statistiques globales</p>
              <p class="subtitle">
                Les données globales ont été mises à jour le
                <strong>{{
                  mainStats?.total.global.lastUpdate
                    | date: "d MMMM yyyy":"fr-FR"
                }}</strong>.
              </p>
            </div>
          </div>
          <div class="tile is-parent">
            <div class="tile is-child box">
              <p class="title">Statistiques ESMS</p>
              <p class="subtitle">
                Les données des ESMS ont été mises à jour le
                <strong>{{
                  mainStats?.total.esms.lastUpdate | date: "d MMMM yyyy":"fr-FR"
                }}</strong>.
              </p>
            </div>
          </div>
          <div class="tile first is-parent is-7">
            <div class="tile is-child box">
              <p class="title">Statistiques hospitalières</p>
              <p class="subtitle">
                Les données remontées par les centres hospitaliers participants
                à SI-VIC et Santé Publique France ont été mises à jour le
                <strong>{{
                  mainStats?.total.hospital.lastUpdate
                    | date: "d MMMM yyyy":"fr-FR"
                }}</strong>.
              </p>
            </div>
          </div>
        </div>
      </div>
      <div class="tile is-ancestor">
        <div class="tile is-parent">
          <div class="tile is-child box notification is-warning">
            <p class="title tooltip-item"
              matTooltip="Nombre cumulé de cas confirmés de COVID-19 par Santé publique France depuis le début de l'épidémie">
              {{ mainStats?.total.global.cases | number: "":"fr-FR" }}
              <span class="increase">
                ({{
                    mainStats?.total.global.todayCases
                      | symbolNumber: "mainStats"
                  }}
                en 24h)
              </span>
            </p>
            <p class="subtitle">
              Cas confirmés au total depuis le début de l'épidémie
            </p>
          </div>
        </div>
        <div class="tile is-parent">
          <div class="tile is-child box notification is-warning">
            <p class="title tooltip-item"
              matTooltip="Nombre cumulé de cas confirmés de COVID-19 en ESMS depuis le début de l'épidémie">
              {{ mainStats.total.esms.casesEsms | number: "":"fr-FR" }}
              <span class="increase">
                <ng-container *ngIf="mainStats?.total.esms.todayCasesEsms !== -1">
                  ({{
                      mainStats?.total.esms.todayCasesEsms
                        | symbolNumber: "mainStats"
                    }}
                  en 24h)
                </ng-container>
              </span>
            </p>
            <p class="subtitle">
              Cas confirmés en ESMS depuis le début de l'épidémie
            </p>
          </div>
        </div>
        <div class="tile is-7">
          <div class="tile is-parent">
            <div class="tile is-child box notification hospital ">
              <p class="title tooltip-item" matTooltip="Nombre de patients actuellement hospitalisés pour COVID-19">
                {{ mainStats?.total.hospital.hospital | number: "":"fr-FR" }}
                <span class="increase">
                  ({{
                      mainStats?.total.hospital.todayHospital
                        | symbolNumber: "mainStats"
                    }}
                  en 24h)
                </span>
              </p>
              <p class="subtitle">
                Hospitalisations en cours
              </p>
            </div>
          </div>
          <div class="tile is-parent">
            <div class="tile is-child box notification hospital">
              <p class="title tooltip-item"
                matTooltip="Nombre cumulé de patients hospitalisés pour COVID-19 depuis le début de l'épidémie">
                {{
                    mainStats.total.hospital.hospitalStart | number: "":"fr-FR"
                  }}
                <span class="increase">
                  ({{
                      mainStats?.total.hospital.todayHospitalStart
                        | symbolNumber: "mainStats"
                    }}
                  en 24h)
                </span>
              </p>
              <p class="subtitle">
                Hospitalisations au total depuis le début de l'épidémie
              </p>
            </div>
          </div>
          <div class="tile is-parent">
            <div class="tile is-child box notification is-success">
              <p class="title tooltip-item"
                matTooltip="Nombre cumulé de patients guéris suite à une hospitalisation pour COVID-19 depuis le début de l'épidémie">
                {{ mainStats.total.hospital.recovered | number: "":"fr-FR" }}
                <span class="increase">
                  ({{
                      mainStats?.total.hospital.todayRecovered
                        | symbolNumber: "mainStats"
                    }}
                  en 24h)
                </span>
              </p>
              <p class="subtitle">
                Guéris après hospitalisation depuis le début de l'épidémie
                soit un taux de guérison* de <strong class="number-rate">{{
                    mainStats.total.hospital.recoveredRate.toFixed(1)
                  }}
                  %</strong>
                <span class="calcul">
                  *Taux de guérison = nombre de guéris suite à une hospitalisation sur le nombre total
                  d'hospitalisations.
                </span>
              </p>
            </div>
          </div>
        </div>
      </div>
      <div class="tile is-ancestor">
        <div class="tile is-parent">
          <div class="tile is-child box notification is-danger">
            <p class="title tooltip-item"
              matTooltip="Nombre cumulé de personnes décédées (Décès en milieu hospitalier + Décès en ESMS) depuis le début de l'épidémie">
              {{ mainStats.total.global.deaths | number: "":"fr-FR" }}
              <span class="increase">
                ({{
                  mainStats?.total.global.todayDeaths
                    | symbolNumber: "mainStats"
                }}
                en 24h)
              </span>
            </p>
            <p class="subtitle">
              Décès au total depuis le début de l'épidémie soit
              un taux de décès* de
              <strong class="number-rate">{{ mainStats.total.global.deathRate.toFixed(1) }} %</strong>
              <span class="calcul">
                * Taux de décès = nombre de décès sur le nombre de cas confirmés.
              </span>
            </p>
          </div>
        </div>
        <div class="tile is-parent">
          <div class="tile is-child box notification is-danger">
            <p class="title tooltip-item"
              matTooltip="Nombre cumulé de décès en ESMS pour cause de COVID-19 depuis le début de l'épidémie">
              {{ mainStats.total.esms.deathsEsms | number: "":"fr-FR" }}
              <span class="increase">
                ({{
                  mainStats?.total.esms.todayDeathsEsms
                    | symbolNumber: "mainStats"
                }}
                en 24h)
              </span>
            </p>
            <p class="subtitle">
              Décès en ESMS depuis le début de l'épidémie
            </p>
          </div>
        </div>
        <div class="tile is-7">
          <div class="tile is-parent">
            <div class="tile is-child box notification reanimation">
              <p class="title tooltip-item"
                matTooltip="Nombre de patients actuellement hospitalisés en réanimation pour COVID-19">
                {{ mainStats?.total.hospital.reanimation | number: "":"fr-FR" }}
                <span class="increase">
                  ({{
                    mainStats?.total.hospital.todayReanimation
                      | symbolNumber: "mainStats"
                  }}
                  en 24h)
                </span>
              </p>
              <p class="subtitle">
                Réanimations en cours
              </p>
            </div>
          </div>
          <div class="tile is-parent">
            <div class="tile is-child box notification reanimation">
              <p class="title"
                matTooltip="Nombre cumulé de patients admis en réanimation pour COVID-19 depuis le début de l'épidémie">
                {{
                  mainStats.total.hospital.reanimationStart | number: "":"fr-FR"
                }}
                <span class="increase">
                  ({{
                    mainStats?.total.hospital.todayReanimationStart
                      | symbolNumber: "mainStats"
                  }}
                  en 24h)
                </span>
              </p>
              <p class="subtitle">
                Réanimations au total depuis le début de l'épidémie
              </p>
            </div>
          </div>
          <div class="tile is-parent">
            <div class="tile is-child box notification is-danger">
              <p class="title tooltip-item"
                matTooltip="Nombre cumulé de patients décédés suite à une hospitalisation pour COVID-19 depuis le début de l'épidémie">
                {{
                  mainStats.total.hospital.deathsHospital | number: "":"fr-FR"
                }}
                <span class="increase">
                  ({{
                    mainStats?.total.hospital.todayDeathsHospital
                      | symbolNumber: "mainStats"
                  }}
                  en 24h)
                </span>
              </p>
              <p class="subtitle">
                Décès après hospitalisation depuis le début de l'épidémie soit
                un taux de décès* de
                <strong class="number-rate">{{ mainStats.total.hospital.deathRate.toFixed(1) }} %</strong>
                <span class="calcul">
                  * Taux de décès = nombre de décès suite à une hospitalisation sur le nombre total d'hospitalisations.
                </span>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </ng-container> -->
  <ng-container *ngIf="selectedZone">
    <div class="stats-zone tile is-ancestor">
      <div class="tile is-vertical">

        <div class="tile is-block-tablet is-flex-desktop">
          <div class="tile is-parent">
            <div
            class="tile is-child box notification"
            [class.is-success]="epidemicMeasures?.last.rZeroLast.rZeroColor === 'vert'"
            [class.is-danger]="epidemicMeasures?.last.rZeroLast.rZeroColor === 'rouge'"
            [class.orange]="epidemicMeasures?.last.rZeroLast.rZeroColor === 'orange'"
            >
              <p class="title tooltip-item" matTooltip="Vert : R0 entre 0 et 1 ;
              Orange : R0 entre 1 et 1,5 ;
              Rouge : R0 supérieur à 1,5">
                {{ epidemicMeasures?.last.rZeroLast.rZero }}
              </p>
              <p class="subtitle">
                <strong>R0 - </strong>
                <span class="note">
                Ce nombre correspond au taux de reproduction du virus, cest-à-dire le nombre de personnes contaminées pour chaque malade.</span>
                <span class="calcul">
                  Chiffre au {{epidemicMeasures?.last.rZeroLast.date | date: "d MMMM yyyy":"fr-FR" }}
                </span>
              </p>
            </div>
          </div>
          <div class="tile is-parent">
            <div class="tile is-child box notification"
            [class.is-success]="epidemicMeasures?.last.incidentRateLast.incidentRateColor === 'vert'"
            [class.is-danger]="epidemicMeasures?.last.incidentRateLast.incidentRateColor === 'rouge'"
            [class.orange]="epidemicMeasures?.last.incidentRateLast.incidentRateColor === 'orange'">
              <p class="title tooltip-item"
                matTooltip="Vert : en dessous de 10 tests positifs pour 100 000 habitants sur une semaine glissante ;
                Orange : au-delà de 10 tests positifs pour 100 000 habitants sur une semaine glissante ;
                Rouge : au-delà de 50 tests positifs pour 100 000 habitants sur une semaine glissante.">
                {{ epidemicMeasures?.last.incidentRateLast.incidentRate }}
              </p>
              <p class="subtitle">
                <strong>Taux d'incidence - </strong>
                <span class="note">
                Ce taux correspond au nombre de tests virologiques positifs pour 100 000 habitants sur une semaine glissante.</span>
                <span class="calcul">
                  Chiffre au {{epidemicMeasures?.last.incidentRateLast.date | date: "d MMMM yyyy":"fr-FR" }}
                </span>
              </p>
            </div>
          </div>
          <div class="tile is-parent">
            <div class="tile is-child box notification"
            [class.is-success]="epidemicMeasures?.last.positiveRateLast.positiveRateColor === 'vert'"
            [class.is-danger]="epidemicMeasures?.last.positiveRateLast.positiveRateColor === 'rouge'"
            [class.orange]="epidemicMeasures?.last.positiveRateLast.positiveRateColor === 'orange'">
              <p class="title tooltip-item"
                matTooltip="Vert : taux de tests positifs entre 0 et 5% ;
                Orange : taux de tests positifs entre 5 et 10% ;
                Rouge : taux de tests positifs supérieur à 10%">
                {{ (epidemicMeasures?.last.positiveRateLast.positiveRate.toFixed(2))}} %
              </p>
              <p class="subtitle">
                <strong>Taux de positivité des tests virologiques (RT-PCR) - </strong>
                <span class="note">
                Ce taux correspond au nombre de tests positifs
                 sur une semaine par rapport au nombre de tests réalisés.
                 </span>
                 <span class="calcul">
                  Chiffre au {{epidemicMeasures?.last.positiveRateLast.date | date: "d MMMM yyyy":"fr-FR" }}
                </span>
              </p>
            </div>
          </div>
          <div class="tile is-parent">
            <div class="tile is-child box notification"
            [class.is-success]="epidemicMeasures?.last.reanimationCapacityLast.reanimationCapacityColor === 'vert'"
            [class.is-danger]="epidemicMeasures?.last.reanimationCapacityLast.reanimationCapacityColor === 'rouge'"
            [class.orange]="epidemicMeasures?.last.reanimationCapacityLast.reanimationCapacityColor === 'orange'"
            >
              <p class="title tooltip-item"
                matTooltip="Vert : taux d'occupation entre 0 et 40% ;
                Orange : taux d'occupation entre 40 et 60% ;
                Rouge : taux d'occupation supérieur à 60%.">
                {{ epidemicMeasures?.last.reanimationCapacityLast.reanimationCapacity }} %
              </p>
              <p class="subtitle">
                <strong>Taux d'occupations des lits de réanimation/SI/SC - </strong>
                <span class="note">
                  Ce taux correspond au nombre de lits de réanimation occupés par les patients
                  atteints du COVID-19 sur la capacité initiale en réanimation
                </span>
                <span class="calcul">
                  Chiffre au {{epidemicMeasures?.last.reanimationCapacityLast.date | date: "d MMMM yyyy":"fr-FR" }}
                </span>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </ng-container>
